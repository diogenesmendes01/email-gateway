# ==============================================================================
# EMAIL GATEWAY - Environment Variables (Development)
# ==============================================================================
# ‚ö†Ô∏è Este arquivo foi gerado automaticamente para desenvolvimento local
# ==============================================================================

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
NODE_ENV=development
API_PORT=3000
WORKER_PORT=3301

# API Configuration
API_PREFIX=v1

# ------------------------------------------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------------------------------------------
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/email_gateway?schema=public"

# ------------------------------------------------------------------------------
# Redis (Queue & Cache)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6382
REDIS_PASSWORD=
REDIS_DB=0

# ------------------------------------------------------------------------------
# BullMQ Queue Configuration
# ------------------------------------------------------------------------------
QUEUE_NAME=email:send
QUEUE_CONCURRENCY=2
QUEUE_MAX_RETRIES=5

# Worker Configuration
WORKER_CONCURRENCY=16

# ------------------------------------------------------------------------------
# Email Provider Configuration
# ------------------------------------------------------------------------------
# Primary email provider: AWS_SES | POSTAL_SMTP | POSTAL_API | CUSTOM_SMTP
EMAIL_PROVIDER=POSTAL_SMTP
EMAIL_PROVIDER_FALLBACK=false

# ------------------------------------------------------------------------------
# AWS SES (Simple Email Service)
# ------------------------------------------------------------------------------
# ‚ö†Ô∏è Estes s√£o valores de exemplo - Configure com suas credenciais AWS reais
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIAYAHATAL2KGMXCGM6
AWS_SECRET_ACCESS_KEY=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

# SES Configuration
SES_FROM_ADDRESS=contato@certshiftsoftware.com.br
SES_REPLY_TO_ADDRESS=contato@certshiftsoftware.com.br
SES_CONFIGURATION_SET_NAME=my-first-configuration-set

# ------------------------------------------------------------------------------
# Postal SMTP Configuration (MailHog para testes locais)
# ------------------------------------------------------------------------------
# MailHog captura emails sem enviar de verdade - perfeito para testes!
# Interface web: http://localhost:8025
POSTAL_SMTP_HOST=localhost
POSTAL_SMTP_PORT=1025
POSTAL_SMTP_USER=
POSTAL_SMTP_PASS=
POSTAL_SMTP_SECURE=false
POSTAL_FROM_ADDRESS=noreply@certshiftsoftware.com.br

# ------------------------------------------------------------------------------
# Security & Authentication
# ------------------------------------------------------------------------------
# API Key Configuration
API_KEY_HEADER=x-api-key

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# IP Whitelist
ALLOWED_IPS=127.0.0.1,::1

# ------------------------------------------------------------------------------
# Encryption (CRITICAL - Required for PII Protection)
# ------------------------------------------------------------------------------
# üîê Chaves geradas automaticamente - NUNCA compartilhe estas chaves!
ENCRYPTION_KEY=LjXS/S6GrLyIuH+Drj15DOEzqR466NlwAPjbcJctpow=
ENCRYPTION_SALT_SECRET=c1gxovCdQO2wUOTLWlaIgejovSzM+IGmB5ThfF83kMk=
ENCRYPTION_SLOW_THRESHOLD_MS=200

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=pretty

# ------------------------------------------------------------------------------
# Rate Limiting & Throttling
# ------------------------------------------------------------------------------
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
MAX_PAYLOAD_SIZE=1mb

# ------------------------------------------------------------------------------
# Retry & Backoff Configuration
# ------------------------------------------------------------------------------
RETRY_BASE_DELAY=1000
RETRY_MAX_DELAY=60000
RETRY_EXPONENTIAL_FACTOR=2

# ------------------------------------------------------------------------------
# Health Check Configuration
# ------------------------------------------------------------------------------
SES_QUOTA_WARNING_THRESHOLD=0.8
SES_QUOTA_CRITICAL_THRESHOLD=0.95

# ------------------------------------------------------------------------------
# TASK-021: DLQ Monitoring & Admin (REQUIRED)
# ------------------------------------------------------------------------------
# üîê Admin API Key gerada automaticamente - NUNCA compartilhe esta chave!
ADMIN_API_KEY=2gAodddZRp6f6dE81nTvrOMkEu+stVAxDsKN1YTRBvI=

# DLQ Alert Thresholds
DLQ_ALERT_THRESHOLD=10
DLQ_CRITICAL_THRESHOLD=100
DLQ_MAX_AGE_HOURS=24

# Admin Panel URLs
API_BASE_URL=http://localhost:3000
GRAFANA_URL=http://localhost:3301

# DLQ Monitoring
DLQ_CHECK_INTERVAL_MS=300000
DLQ_CLEANUP_DAYS=7

# ------------------------------------------------------------------------------
# TASK-026: AWS Secrets Manager Integration
# ------------------------------------------------------------------------------
USE_SECRETS_MANAGER=false
AWS_REGION=us-east-1

# ==============================================================================
# FIM - Email Gateway Environment Variables
# ==============================================================================